<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Simple Pendulum</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #000;
      color: #f5f5f5;
      max-width: 800px;
      margin: 2rem auto;
      line-height: 1.6;
    }
    h1, h2 {
      color: #6a0dad;
    }
    a {
      color: #ffffff;
      text-decoration: underline;
    }
    a:hover {
      color: #c299ff;
    }
    code {
      background: #111;
      padding: 2px 4px;
      border-radius: 4px;
    }
    #pendulumPlot {
      width: 100%;
      height: 400px;
      margin-top: 1rem;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 500;
    }
    input[type="range"] {
      width: 100%;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>

  <h1>Simple Pendulum Simulation</h1>
  <p>This simulation solves the nonlinear pendulum equation using the 4th-order Runge–Kutta method.</p>

  <h2>1. Introduction</h2>
  <p>
    A simple pendulum is a mass \( m \) attached to a light, inextensible string of length \( L \), swinging in a vertical plane under the influence of gravity. It is a classic example of periodic motion used to understand oscillatory systems.
  </p>

  <h2>2. Deriving the Equation of Motion</h2>
  <p>
    Consider the forces acting on the bob. The only forces are the tension \( T \) in the string and the gravitational force \( mg \). If \( \theta(t) \) is the angular displacement from the vertical at time \( t \), the restoring torque about the pivot is:
  </p>
  <p>
    $$\tau = -mgL \sin(\theta)$$
  </p>
  <p>
    Using Newton's second law for rotational motion:
    $$\tau = I \alpha$$
    where \( I = mL^2 \) is the moment of inertia of the pendulum and \( \alpha = \frac{d^2\theta}{dt^2} \) is the angular acceleration.
  </p>
  <p>
    Substituting values:
    $$-mgL \sin(\theta) = mL^2 \frac{d^2\theta}{dt^2}$$
  </p>
  <p>
    Dividing through by \( mL^2 \), we get the nonlinear second-order differential equation:
    $$
    \frac{d^2\theta}{dt^2} + \frac{g}{L} \sin(\theta) = 0
    $$
  </p>

  <h2>3. Linear Approximation (Small Angle)</h2>
  <p>
    For small angles \( \theta \ll 1 \) (in radians), we can approximate \( \sin(\theta) \approx \theta \). This reduces the equation to a simple harmonic oscillator:
  </p>
  <p>
    $$
    \frac{d^2\theta}{dt^2} + \frac{g}{L} \theta = 0
    $$
  </p>
  <p>
    This has the general solution:
    $$
    \theta(t) = \theta_0 \cos\left( \sqrt{\frac{g}{L}} \, t + \phi \right)
    $$
    where \( \theta_0 \) is the amplitude and \( \phi \) is the phase constant.
  </p>

  <h2>4. Ideal Assumptions</h2>
  <p>
    This simulation assumes:
    <ul>
      <li>No air resistance</li>
      <li>A massless, rigid string</li>
      <li>No friction at the pivot</li>
      <li>Motion constrained to two dimensions</li>
    </ul>
    These assumptions make the pendulum an ideal system, which helps isolate and understand fundamental dynamics without external complications.
  </p>

  <h2>5. Numerical Simulation (RK4)</h2>
  <p>
    The equation of motion is nonlinear and cannot be solved analytically for large angles. We use the 4th-order Runge–Kutta (RK4) method to numerically integrate the system and plot \( \theta(t) \).
  </p>
  <p>
    The graph is generated by simulating the equation forward in time with given initial conditions (like \( \theta_0 = \frac{\pi}{4} \)) and computing the angle at small time steps. No physical data is required — it's purely theoretical and models ideal behavior.
  </p>

  <!-- In-browser Simulation -->
  <h2>Interactive Plot</h2>
  <label for="thetaSlider">Initial Angle (θ₀ in radians): <span id="thetaVal">0.78</span></label>
  <input type="range" id="thetaSlider" min="0.1" max="3.1" step="0.05" value="0.78" />
  <div id="pendulumPlot"></div>

  <script>
    function simulatePendulum(theta0) {
      const g = 9.81, L = 1.0, dt = 0.01, steps = 1000;
      let theta = theta0, omega = 0;
      const tArr = [], thetaArr = [];

      for (let i = 0; i < steps; i++) {
        const t = i * dt;
        tArr.push(t);
        thetaArr.push(theta);

        // RK4
        const f = (θ, ω) => - (g / L) * Math.sin(θ);
        const k1 = dt * omega;
        const l1 = dt * f(theta, omega);
        const k2 = dt * (omega + l1 / 2);
        const l2 = dt * f(theta + k1 / 2, omega + l1 / 2);
        const k3 = dt * (omega + l2 / 2);
        const l3 = dt * f(theta + k2 / 2, omega + l2 / 2);
        const k4 = dt * (omega + l3);
        const l4 = dt * f(theta + k3, omega + l3);

        theta += (k1 + 2 * k2 + 2 * k3 + k4) / 6;
        omega += (l1 + 2 * l2 + 2 * l3 + l4) / 6;
      }

      Plotly.newPlot('pendulumPlot', [{
        x: tArr,
        y: thetaArr,
        mode: 'lines',
        line: { color: '#6a0dad' },
        name: 'θ(t)'
      }], {
        title: '',
        paper_bgcolor: '#000',
        plot_bgcolor: '#000',
        xaxis: { title: 'Time (s)', color: '#f5f5f5' },
        yaxis: { title: 'θ (radians)', color: '#f5f5f5' },
        font: { color: '#f5f5f5' },
        margin: { t: 20 }
      });
    }

    const slider = document.getElementById('thetaSlider');
    const display = document.getElementById('thetaVal');
    slider.addEventListener('input', () => {
      const val = parseFloat(slider.value);
      display.textContent = val.toFixed(2);
      simulatePendulum(val);
    });

    simulatePendulum(parseFloat(slider.value));
  </script>

  <h2>6. Code</h2>
  <p>
    <a href="pendulum.py" target="_blank">pendulum.py (source)</a>
  </p>

  <h2>7. Back to Homepage</h2>
  <p><a href="../../index.html">← Return to main page</a></p>

</body>
</html>
